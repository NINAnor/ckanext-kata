<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ckanext.kata package &mdash; Kata metadata catalogue documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Kata metadata catalogue documentation" href="index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Kata</a></div>
        <div class="rel">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ckanext-kata-package">
<h1>ckanext.kata package<a class="headerlink" href="#ckanext-kata-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ckanext.kata.commands.html">ckanext.kata.commands package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ckanext.kata.commands.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckanext.kata.commands.html#module-ckanext.kata.commands.kata">ckanext.kata.commands.kata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckanext.kata.commands.html#module-ckanext.kata.commands">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ckanext.kata.i18n.html">ckanext.kata.i18n package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ckanext.kata.i18n.html#module-ckanext.kata.i18n">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ckanext.kata.actions">
<span id="ckanext-kata-actions-module"></span><h2>ckanext.kata.actions module<a class="headerlink" href="#module-ckanext.kata.actions" title="Permalink to this headline">¶</a></h2>
<p>Kata&#8217;s action overrides.</p>
<dl class="function">
<dt id="ckanext.kata.actions.dataset_editor_add">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">dataset_editor_add</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#dataset_editor_add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.dataset_editor_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a user and role to dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; dataset name or id</li>
<li><strong>role</strong> (<em>string</em>) &#8211; admin, editor or reader</li>
<li><strong>username</strong> (<em>string</em>) &#8211; user to be added</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.dataset_editor_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">dataset_editor_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#dataset_editor_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.dataset_editor_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes user and role in a dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> (<em>string</em>) &#8211; user name to delete</li>
<li><strong>name</strong> (<em>string</em>) &#8211; dataset name or id</li>
<li><strong>role</strong> (<em>string</em>) &#8211; editor, admin or reader</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.group_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">group_create</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.group_create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.group_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">group_delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.group_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.group_list">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">group_list</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.group_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.group_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">group_update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.group_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.member_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">member_create</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#member_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.member_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an object (e.g. a user, dataset or group) a member of a group.</p>
<p>Custom organization permission handling added on top of CKAN&#8217;s own member_create action.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.member_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">member_delete</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#member_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.member_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an object (e.g. a user, dataset or group) from a group.</p>
<p>Custom organization permission handling added on top of CKAN&#8217;s own member_create action.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.organization_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">organization_create</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.organization_create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.organization_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">organization_delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.organization_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.organization_list_for_user">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">organization_list_for_user</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#organization_list_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.organization_list_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list organizations available for current user. Modify CKAN organization permissions before calling original
action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of dictized organizations that the user is authorized to edit</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dicts</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.organization_member_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">organization_member_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#organization_member_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.organization_member_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for CKAN&#8217;s group_member_create to modify organization permissions.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.organization_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">organization_update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.organization_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new dataset.</p>
<p>Extends ckan&#8217;s similar method to instantly reindex the SOLR index, 
so that this newly added package emerges in search results instantly instead of 
during the next timed reindexing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; context</li>
<li><strong>data_dict</strong> &#8211; data dictionary (package data)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a package</p>
<p>Extends ckan&#8217;s similar method to instantly re-index the SOLR index. 
Otherwise the changes would only be added during a re-index (a rebuild of search index,
to be specific).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; package data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_owner_org_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_owner_org_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_owner_org_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_owner_org_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the owning organization of a dataset</p>
<p>Used by both package_create and package_update</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_search">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_search</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metadata of a dataset (package) and its resources.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</li>
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_show">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metadata of a dataset (package) and its resources.</p>
<p>Called before showing the dataset in some interface (browser, API),
or when adding package to Solr index (no validation / conversions then).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.package_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">package_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#package_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.package_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the dataset.</p>
<p>Extends ckan&#8217;s similar method to instantly re-index the SOLR index.
Otherwise the changes would only be added during a re-index (a rebuild of search index,
to be specific).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>dict</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dict</em>) &#8211; dataset as dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.related_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">related_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#related_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.related_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses different schema and adds logging.
Otherwise does what ckan&#8217;s similar function does.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; related item&#8217;s data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created related item</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.related_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">related_delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.related_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.related_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">related_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/actions.html#related_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.actions.related_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses different schema and adds logging.
Otherwise does what ckan&#8217;s similar function does.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; related item&#8217;s data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly updated related item</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.resource_create">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">resource_create</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.resource_create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.resource_delete">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">resource_delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.resource_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.actions.resource_update">
<tt class="descclassname">ckanext.kata.actions.</tt><tt class="descname">resource_update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ckanext.kata.actions.resource_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ckanext.kata.auth_functions">
<span id="ckanext-kata-auth-functions-module"></span><h2>ckanext.kata.auth_functions module<a class="headerlink" href="#module-ckanext.kata.auth_functions" title="Permalink to this headline">¶</a></h2>
<p>Custom authorization functions for actions.</p>
<dl class="function">
<dt id="ckanext.kata.auth_functions.edit_resource">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">edit_resource</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#edit_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.edit_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a user is allowed edit a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; context</li>
<li><strong>data_dict</strong> &#8211; data dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Rype:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.auth_functions.is_owner">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">is_owner</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#is_owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.is_owner" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used in &#8220;request edit rights&#8221; feature.
Checks if the user is admin or editor of the
package in question</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; package data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.auth_functions.kata_has_user_permission_for_org">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">kata_has_user_permission_for_org</tt><big>(</big><em>org_id</em>, <em>user_name</em>, <em>permission</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#kata_has_user_permission_for_org"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.kata_has_user_permission_for_org" title="Permalink to this definition">¶</a></dt>
<dd><p>Used by auth function package create: everyone has a right to add a dataset to any organisation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_name</strong> &#8211; </li>
<li><strong>permission</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True, as everyone has a right to add a dataset to an organisation</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.auth_functions.package_create">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">package_create</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#package_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.package_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from CKAN&#8217;s original check. Any logged in user can add
a dataset to any organisation.
Packages owner check is done when adding a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; context</li>
<li><strong>data_dict</strong> &#8211; data_dict</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary with &#8216;success&#8217;: True|False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.auth_functions.package_delete">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">package_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#package_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.package_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified check from CKAN, whether the user has a permission to
delete the package. In addition to privileges given by CKAN&#8217;s
authorisation, also the package owner has full privileges in Kata.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; package data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary with &#8216;success&#8217;: True|False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.auth_functions.package_show">
<tt class="descclassname">ckanext.kata.auth_functions.</tt><tt class="descname">package_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/auth_functions.html#package_show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.auth_functions.package_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from CKAN&#8217;s original check. Package&#8217;s owner
can see the dataset no matter in what organization it lies in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>dictionary</em>) &#8211; context</li>
<li><strong>data_dict</strong> (<em>dictionary</em>) &#8211; package data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary with &#8216;success&#8217;: True|False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.clamd_wrapper">
<span id="ckanext-kata-clamd-wrapper-module"></span><h2>ckanext.kata.clamd_wrapper module<a class="headerlink" href="#module-ckanext.kata.clamd_wrapper" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="ckanext.kata.clamd_wrapper.MalwareCheckError">
<em class="property">exception </em><tt class="descclassname">ckanext.kata.clamd_wrapper.</tt><tt class="descname">MalwareCheckError</tt><a class="reference internal" href="_modules/ckanext/kata/clamd_wrapper.html#MalwareCheckError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.clamd_wrapper.MalwareCheckError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Exception class that wraps/represents errors that can occur in
clamd scans.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.clamd_wrapper.scan_for_malware">
<tt class="descclassname">ckanext.kata.clamd_wrapper.</tt><tt class="descname">scan_for_malware</tt><big>(</big><em>stream</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/clamd_wrapper.html#scan_for_malware"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.clamd_wrapper.scan_for_malware" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for malware in the given stream using a ClamAV daemon.
Inspired by the example code in pyclamd.</p>
<p>Scanning consumes the input stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<em>file-like object</em>) &#8211; the input stream to scan</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the file is clean and False if there is a detection.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises MalwareCheckError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">if connecting to the ClamAV daemon fails or there is another error</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.controllers">
<span id="ckanext-kata-controllers-module"></span><h2>ckanext.kata.controllers module<a class="headerlink" href="#module-ckanext.kata.controllers" title="Permalink to this headline">¶</a></h2>
<p>Controllers for Kata.</p>
<dl class="class">
<dt id="ckanext.kata.controllers.AccessRequestController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">AccessRequestController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#AccessRequestController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.AccessRequestController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.lib.base.BaseController</span></tt></p>
<p>AccessRequestController class provides a feature to ask
for editor rights to a dataset. On the other hand,
it also provides the process to grant them upon request.</p>
<dl class="method">
<dt id="ckanext.kata.controllers.AccessRequestController.create_request">
<tt class="descname">create_request</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#AccessRequestController.create_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.AccessRequestController.create_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new editor access request in the database.
Redirects the user to dataset view page</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.AccessRequestController.render_edit_request">
<tt class="descname">render_edit_request</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#AccessRequestController.render_edit_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.AccessRequestController.render_edit_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a page for requesting editor access to the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.AccessRequestController.unlock_access">
<tt class="descname">unlock_access</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#AccessRequestController.unlock_access"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.AccessRequestController.unlock_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a user to role editor for a dataset and
redirects the user to dataset view page</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.ContactController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">ContactController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#ContactController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.ContactController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.lib.base.BaseController</span></tt></p>
<p>Add features to contact the dataset&#8217;s owner.</p>
<p>From the web page, this can be seen from the link telling that this dataset is accessible by contacting the author. 
The feature provides a form for message sending, and the message is sent via email.</p>
<dl class="method">
<dt id="ckanext.kata.controllers.ContactController.render_contact">
<tt class="descname">render_contact</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#ContactController.render_contact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.ContactController.render_contact" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the contact form if allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.ContactController.render_request">
<tt class="descname">render_request</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#ContactController.render_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.ContactController.render_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the access request contact form if allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.ContactController.send_contact">
<tt class="descname">send_contact</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#ContactController.send_contact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.ContactController.send_contact" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a user message from CKAN to dataset distributor contact.
Constructs the message and calls <tt class="xref py py-meth docutils literal"><span class="pre">_send_if_allowed()</span></tt>.</p>
<p>Redirects the user to dataset view page.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.ContactController.send_request">
<tt class="descname">send_request</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#ContactController.send_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.ContactController.send_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a request to access data to CKAN dataset owner.</p>
<p>Constructs the message and calls <tt class="xref py py-meth docutils literal"><span class="pre">_send_if_allowed()</span></tt>.</p>
<p>Redirects the user to dataset view page.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> (<em>string</em>) &#8211; package id</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.KATAApiController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">KATAApiController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KATAApiController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KATAApiController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.controllers.api.ApiController</span></tt></p>
<p>Functions for autocomplete fields in add dataset form</p>
<dl class="method">
<dt id="ckanext.kata.controllers.KATAApiController.discipline_autocomplete">
<tt class="descname">discipline_autocomplete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KATAApiController.discipline_autocomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KATAApiController.discipline_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Suggestions for discipline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KATAApiController.location_autocomplete">
<tt class="descname">location_autocomplete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KATAApiController.location_autocomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KATAApiController.location_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Suggestions for spatial coverage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KATAApiController.media_type_autocomplete">
<tt class="descname">media_type_autocomplete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KATAApiController.media_type_autocomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KATAApiController.media_type_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Suggestions for mimetype</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KATAApiController.tag_autocomplete">
<tt class="descname">tag_autocomplete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KATAApiController.tag_autocomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KATAApiController.tag_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Suggestions for tags (keywords)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.KataInfoController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">KataInfoController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataInfoController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataInfoController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.lib.base.BaseController</span></tt></p>
<p>KataInfoController provides info pages, which
are non-dynamic and visible for all</p>
<dl class="method">
<dt id="ckanext.kata.controllers.KataInfoController.render_faq">
<tt class="descname">render_faq</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataInfoController.render_faq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataInfoController.render_faq" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the FAQ page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KataInfoController.render_help">
<tt class="descname">render_help</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataInfoController.render_help"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataInfoController.render_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the help page</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.KataPackageController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">KataPackageController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataPackageController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataPackageController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.controllers.package.PackageController</span></tt></p>
<p>Adds advanced search feature.</p>
<dl class="method">
<dt id="ckanext.kata.controllers.KataPackageController.advanced_search">
<tt class="descname">advanced_search</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataPackageController.advanced_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataPackageController.advanced_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse query parameters from different search form inputs, modify into
one query string &#8216;q&#8217; in the context and call basic <tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt> method of
the super class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary with keys results and count</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KataPackageController.dataset_editor_delete">
<tt class="descname">dataset_editor_delete</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataPackageController.dataset_editor_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataPackageController.dataset_editor_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a user from a dataset role.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>string</em>) &#8211; dataset name</li>
<li><strong>username</strong> (<em>string</em>) &#8211; user (request.param) and role (request.param) to be deleted from dataset</li>
<li><strong>role</strong> (<em>string</em>) &#8211; user (request.param) and role (request.param) to be deleted from dataset</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>redirects to dataset_editor_manage.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KataPackageController.dataset_editor_manage">
<tt class="descname">dataset_editor_manage</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataPackageController.dataset_editor_manage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataPackageController.dataset_editor_manage" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages (adds) editors and admins of a dataset and sends an invitation email
if wanted in case user has not yet logged in to the service.
The invitation email feature has no automatic features bound to it, it is a
plain email sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>string</em>) &#8211; package name</li>
<li><strong>username</strong> (<em>string</em>) &#8211; if username (request.param) and role (request.param) are set, the user is added for the role</li>
<li><strong>role</strong> (<em>string</em>) &#8211; if username (request.param) and role (request.param) are set, the user is added for the role</li>
<li><strong>email</strong> (<em>string</em>) &#8211; if email address (request.param) is given, an invitation email is sent</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Renders the package_administration page via <tt class="xref py py-meth docutils literal"><span class="pre">_show_dataset_role_page()</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KataPackageController.new">
<tt class="descname">new</tt><big>(</big><em>data=None</em>, <em>errors=None</em>, <em>error_summary=None</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataPackageController.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataPackageController.new" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite CKAN method to take uploading xml into sequence.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.KataUserController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">KataUserController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataUserController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataUserController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.controllers.user.UserController</span></tt></p>
<p>Overwrite logged_in function in the super class.</p>
<dl class="method">
<dt id="ckanext.kata.controllers.KataUserController.logged_in">
<tt class="descname">logged_in</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataUserController.logged_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataUserController.logged_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Minor rewrite to redirect the user to the own profile page instead of
the dashboard.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.controllers.KataUserController.logged_out_page">
<tt class="descname">logged_out_page</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#KataUserController.logged_out_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.KataUserController.logged_out_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect user to front page and inform user.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.MalwareScanningStorageController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">MalwareScanningStorageController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#MalwareScanningStorageController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.MalwareScanningStorageController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.controllers.storage.StorageController</span></tt></p>
<p>MalwareScanningStorageController extends the standard CKAN StorageController
class by adding an optional malware check on file uploads.</p>
<p>Malware scanning is disabled by default but can be enabled by setting
the configuration option kata.storage.malware_scan to true.
When scanning is enabled, not having a ClamAV daemon running
will cause uploads to be rejected.</p>
<dl class="method">
<dt id="ckanext.kata.controllers.MalwareScanningStorageController.upload_handle">
<tt class="descname">upload_handle</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#MalwareScanningStorageController.upload_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.MalwareScanningStorageController.upload_handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.controllers.MetadataController">
<em class="property">class </em><tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">MetadataController</tt><a class="reference internal" href="_modules/ckanext/kata/controllers.html#MetadataController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.MetadataController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.lib.base.BaseController</span></tt></p>
<p>URN export</p>
<dl class="method">
<dt id="ckanext.kata.controllers.MetadataController.urnexport">
<tt class="descname">urnexport</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#MetadataController.urnexport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.MetadataController.urnexport" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an XML listing of packages, which have Kata or Ida URN as data PID.
Used by a third party service.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An XML listing of packages and their URNs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string (xml)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ckanext.kata.controllers.get_package_owner">
<tt class="descclassname">ckanext.kata.controllers.</tt><tt class="descname">get_package_owner</tt><big>(</big><em>package</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/controllers.html#get_package_owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.controllers.get_package_owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the user id of the package admin for the specified package.
If multiple user accounts are associated with the package as admins,
an arbitrary one is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>package</strong> (<em>dictionary</em>) &#8211; package data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">userid</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.converters">
<span id="ckanext-kata-converters-module"></span><h2>ckanext.kata.converters module<a class="headerlink" href="#module-ckanext.kata.converters" title="Permalink to this headline">¶</a></h2>
<p>Functions to convert dataset form fields from or to db fields.</p>
<dl class="function">
<dt id="ckanext.kata.converters.add_to_group">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">add_to_group</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#add_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.add_to_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new group if it doesn&#8217;t yet exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.check_primary_pids">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">check_primary_pids</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#check_primary_pids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.check_primary_pids" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that primary pids exist, if not, get them from package.id and package.name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.checkbox_to_boolean">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">checkbox_to_boolean</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#checkbox_to_boolean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.checkbox_to_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert HTML checkbox&#8217;s value (&#8216;on&#8217; / null) to boolean string</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.convert_from_extras_kata">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">convert_from_extras_kata</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#convert_from_extras_kata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.convert_from_extras_kata" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all extras fields from extras to data dict and remove
fields from extras. Removal helps counter IndexError with unflatten after
validation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.convert_languages">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">convert_languages</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#convert_languages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.convert_languages" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert ISO 639 language abbreviations to ISO 639-2 T.
data[&#8216;key&#8217;] may be a string with comma separated values or a single language code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.convert_to_extras_kata">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">convert_to_extras_kata</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#convert_to_extras_kata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.convert_to_extras_kata" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one extras fields from extras to data dict and remove
fields from extras. Removal helps counter IndexError with unflatten after
validation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.default_name_from_id">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">default_name_from_id</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#default_name_from_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.default_name_from_id" title="Permalink to this definition">¶</a></dt>
<dd><p>If name not given, generate name from package.id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.export_as_related">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">export_as_related</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#export_as_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.export_as_related" title="Permalink to this definition">¶</a></dt>
<dd><p>Not used?</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.flattened_from_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">flattened_from_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#flattened_from_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.flattened_from_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a whole bunch of flattened key-value pairs from extras to a list of dicts in data_dict.
Format in extras must be like <cite>key[0]_index_innerkey</cite>. For example: <cite>pids_02_provider</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The list of dicts is padded to the largest index found with empty dicts. WUI may cause gaps in indexing.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; The key to convert as tuple, for example <cite>(&#8216;pids&#8217;,)</cite></li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.flattened_to_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">flattened_to_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#flattened_to_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.flattened_to_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a flattened key-value pair from data_dict to extras.
For example <cite>(pids, 0, provider)</cite> -&gt; <cite>extras[&#8216;pids_0_provider&#8217;]</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The key-value pairs to convert are before CKAN&#8217;s flattening in format
pids: [{ id: &#8216;some pid&#8217;, type: &#8216;data&#8217;, ...},{ id: &#8216;other pid&#8217;, type: &#8216;data&#8217;, ...}]</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">From WUI this may create gaps in indexing as those indexes with empty contents are not being sent from the
HTML form. For example, you may end up having indexes 0, 1, 3, 4, 6 in DB. This will be padded in
flattened_from_extras by creating empty dicts for those indexes.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key, for example <cite>(pids, 0, provider)</cite></li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.from_extras_json">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">from_extras_json</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#from_extras_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.from_extras_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a field from JSON format in extras to data_dict.
The <cite>key</cite> parameter is the field where to save values, so we need to search data_dict to find the correct
value which we are converting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key for example <cite>(&#8216;pids&#8217;,)</cite></li>
<li><strong>data</strong> &#8211; data, contains value somewhere, like <cite>(&#8216;extras&#8217;, 5, &#8216;value&#8217;)</cite></li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.ltitle_from_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">ltitle_from_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#ltitle_from_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.ltitle_from_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all title &amp; language pairs from db format to dataset form format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.ltitle_to_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">ltitle_to_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#ltitle_to_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.ltitle_to_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert title &amp; language pair from dataset form to db format and validate.
Title &amp; language pairs will be stored in package_extra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.org_auth_from_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">org_auth_from_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#org_auth_from_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.org_auth_from_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert (author, organization) pairs from <cite>package.extra</cite> to <cite>orgauths</cite> dict</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.org_auth_to_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">org_auth_to_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#org_auth_to_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.org_auth_to_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert author and organization to extras</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.remove_access_application_new_form">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">remove_access_application_new_form</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#remove_access_application_new_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.remove_access_application_new_form" title="Permalink to this definition">¶</a></dt>
<dd><p>If availability changes remove access_application_new_form.</p>
<p>Expecting string: <cite>True</cite> or <cite>False</cite> in <cite>data[&#8216;key&#8217;]</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.remove_disabled_languages">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">remove_disabled_languages</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#remove_disabled_languages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.remove_disabled_languages" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>langdis == &#8216;True&#8217;</cite>, remove all languages.</p>
<p>Expecting language codes in <cite>data[&#8216;key&#8217;]</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.to_extras_json">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">to_extras_json</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#to_extras_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.to_extras_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a field to JSON format and store in extras.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.update_pid">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">update_pid</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#update_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.update_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace an empty unicode string with random PID.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.converters.xpath_to_extras">
<tt class="descclassname">ckanext.kata.converters.</tt><tt class="descname">xpath_to_extras</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/converters.html#xpath_to_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.converters.xpath_to_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert xpaths to extras</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; validation errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.extractor">
<span id="ckanext-kata-extractor-module"></span><h2>ckanext.kata.extractor module<a class="headerlink" href="#module-ckanext.kata.extractor" title="Permalink to this headline">¶</a></h2>
<p>The extractor module provides functions for extracting text contents from resources.</p>
<dl class="function">
<dt id="ckanext.kata.extractor.convert_file_to_text">
<tt class="descclassname">ckanext.kata.extractor.</tt><tt class="descname">convert_file_to_text</tt><big>(</big><em>resource_file_path</em>, <em>format</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/extractor.html#convert_file_to_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.extractor.convert_file_to_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the file descriptor and path for a temporary file that contains
the contents of the given resource converted to plain text.</p>
<p>If there is no suitable converter for the format,
the return value will be (None, None).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_file_path</strong> (<em>str</em>) &#8211; the file system path to the resource file</li>
<li><strong>format</strong> (<em>str</em>) &#8211; the file format of the resource (</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.extractor.extract_text">
<tt class="descclassname">ckanext.kata.extractor.</tt><tt class="descname">extract_text</tt><big>(</big><em>resource_url</em>, <em>format</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/extractor.html#extract_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.extractor.extract_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to extract plain text contents from the CKAN resource with the
given URL. Only local resources are supported at the moment.</p>
<p>Non-plain text files are first converted to a plain text representation
if possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_url</strong> (<em>str</em>) &#8211; URL to the resource</li>
<li><strong>format</strong> (<em>str</em>) &#8211; the file format of the resource (practically file name extension)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">unicode</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises IOError:</th><td class="field-body"><p class="first last">if the resource is remote or cannot be read</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.helpers">
<span id="ckanext-kata-helpers-module"></span><h2>ckanext.kata.helpers module<a class="headerlink" href="#module-ckanext.kata.helpers" title="Permalink to this headline">¶</a></h2>
<p>Template helpers for Kata CKAN extension.</p>
<dl class="class">
<dt id="ckanext.kata.helpers.LoopIndex">
<em class="property">class </em><tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">LoopIndex</tt><a class="reference internal" href="_modules/ckanext/kata/helpers.html#LoopIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.LoopIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Simple index object for Jinja2 templates. Avoids problem with Jinja2 variable scope.</p>
<dl class="method">
<dt id="ckanext.kata.helpers.LoopIndex.increase">
<tt class="descname">increase</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#LoopIndex.increase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.LoopIndex.increase" title="Permalink to this definition">¶</a></dt>
<dd><p>Increase index value by one and return previous value</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.helpers.LoopIndex.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#LoopIndex.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.LoopIndex.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns next index number, but does not increase value.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.create_loop_index">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">create_loop_index</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#create_loop_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.create_loop_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return LoopIndex object</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.dataset_is_valid">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">dataset_is_valid</tt><big>(</big><em>package</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#dataset_is_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.dataset_is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if given dataset is valid. Uses schema from plugin.
Return true if dataset is valid.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.filter_system_users">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">filter_system_users</tt><big>(</big><em>users</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#filter_system_users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.filter_system_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters system users (&#8216;logged_in&#8217;, &#8216;visitor&#8217;, &#8216;harvest&#8217;) out of the
given iterable of users.
:param users: an iterable of user data dicts
:return: a new list with system users omitted
:rtype: list</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_authors">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_authors</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_authors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_authors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all authors from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_contacts">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_contacts</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_contacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_contacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all contacts from data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_contributors">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_contributors</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_contributors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_contributors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a all contributors from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_dict_errors">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_dict_errors</tt><big>(</big><em>errors</em>, <em>errors_key</em>, <em>field_key</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_dict_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_dict_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary error values from errors dictionary</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_dict_field_errors">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_dict_field_errors</tt><big>(</big><em>errors</em>, <em>field</em>, <em>index</em>, <em>name</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_dict_field_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_dict_field_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get errors correctly for fields that are represented as nested dict fields in data_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>errors</strong> &#8211; the error dict</li>
<li><strong>field</strong> &#8211; field name</li>
<li><strong>index</strong> &#8211; index, eg. agents are repeatable -&gt; a certain agent might lie in index 2</li>
<li><strong>name</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>[u&#8217;error1&#8217;, u&#8217;error2&#8217;]</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_distributor">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_distributor</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_distributor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_distributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a single distributor from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_distributors">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_distributors</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_distributors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_distributors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a all distributors from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_first_admin">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_first_admin</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_first_admin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_first_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the url of the first one with an admin role</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> &#8211; the package id</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">profile url</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_funder">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_funder</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_funder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_funder" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a single funder from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_funders">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_funders</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_funders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_funders" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all funders from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_if_url">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_if_url</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_if_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_if_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to guess if data is sufficient type for rdf:about</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; the data to check out</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_owners">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_owners</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_owners"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_owners" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a all owners from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_package_ratings">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_package_ratings</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_package_ratings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_package_ratings" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a metadata rating (1-5) for given dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; A CKAN data_dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>(rating, stars)</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_package_ratings_for_data_dict">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_package_ratings_for_data_dict</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_package_ratings_for_data_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_package_ratings_for_data_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a metadata rating (1-5) for given data_dict.</p>
<p>This is the same as <a class="reference internal" href="#ckanext.kata.helpers.get_package_ratings" title="ckanext.kata.helpers.get_package_ratings"><tt class="xref py py-meth docutils literal"><span class="pre">get_package_ratings()</span></tt></a> but can be used
for getting metadata ratings e.g. for search results where
only raw data_dicts are available rather than already-converted
package dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; A CKAN data_dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_pid_types">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_pid_types</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_pid_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_pid_types" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">PID types defined in settings.py</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_rdf_extras">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_rdf_extras</tt><big>(</big><em>pkg_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_rdf_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_rdf_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extras that have no defined location in rdf</p>
<p>Contains much &#8220;manual&#8221; stuff for keeping the logical
order and for prettier display</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_dict</strong> &#8211; the package data dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>[{ &#8216;key&#8217;: &#8216;the key&#8217;, &#8216;value&#8217;: &#8216;the value&#8217;}, {..}, ..]</cite></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dicts</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_related_urls">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_related_urls</tt><big>(</big><em>pkg</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_related_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_related_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Get related urls for package</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_rightscategory">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_rightscategory</tt><big>(</big><em>license</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_rightscategory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_rightscategory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rightscategory based on license id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">LICENSED, COPYRIGHTED or PUBLIC DOMAIN</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_urn_fi_address">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_urn_fi_address</tt><big>(</big><em>package</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_urn_fi_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_urn_fi_address" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.get_visibility_options">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">get_visibility_options</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#get_visibility_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.get_visibility_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Get possible dataset visibility options for this group and user
For now the specs say that everyone can add public/private datasets
to any organisation, thus the simple list to return</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.has_agents_field">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">has_agents_field</tt><big>(</big><em>data_dict</em>, <em>field</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#has_agents_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.has_agents_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if some of the data dict&#8217;s agents has attribute given in field.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.has_contacts_field">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">has_contacts_field</tt><big>(</big><em>data_dict</em>, <em>field</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#has_contacts_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.has_contacts_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if some of the data dict&#8217;s contacts has attribute given in field&#8217;.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.is_allowed_org_member_edit">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">is_allowed_org_member_edit</tt><big>(</big><em>group_dict</em>, <em>user_id</em>, <em>target_id</em>, <em>target_role</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#is_allowed_org_member_edit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.is_allowed_org_member_edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the user is allowed to edit an organization member</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_dict</strong> &#8211; dict of all groups (organizations)</li>
<li><strong>user_id</strong> &#8211; user id</li>
<li><strong>target_id</strong> &#8211; target user id</li>
<li><strong>target_role</strong> &#8211; target&#8217;s current role</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.is_urn">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">is_urn</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#is_urn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.is_urn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.kata_sorted_extras">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">kata_sorted_extras</tt><big>(</big><em>list_</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#kata_sorted_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.kata_sorted_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for outputting package extras, skips package_hide_extras</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.list_organisations">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">list_organisations</tt><big>(</big><em>user</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#list_organisations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.list_organisations" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all organisations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> &#8211; the logged in user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">organization_list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.modify_error_summary">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">modify_error_summary</tt><big>(</big><em>errors</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#modify_error_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.modify_error_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies error_summary keys. Otherwise the keys in database are printed, which leads
to strings like &#8220;Lantitle&#8221;, &#8220;Tag string&#8221; etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>errors</strong> &#8211; error summary dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">errors: keys as specified in settings.ERRORS are changed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.reference_update">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">reference_update</tt><big>(</big><em>ref</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#reference_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.reference_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.resolve_agent_role">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">resolve_agent_role</tt><big>(</big><em>role</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#resolve_agent_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.resolve_agent_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a non-translated role name.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.helpers.string_to_list">
<tt class="descclassname">ckanext.kata.helpers.</tt><tt class="descname">string_to_list</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/helpers.html#string_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.helpers.string_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Split languages and make it a list for Genshi (read.rdf)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; the string to split</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.kata_ldap">
<span id="ckanext-kata-kata-ldap-module"></span><h2>ckanext.kata.kata_ldap module<a class="headerlink" href="#module-ckanext.kata.kata_ldap" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ckanext.kata.kata_ldap.get_user_from_ldap">
<tt class="descclassname">ckanext.kata.kata_ldap.</tt><tt class="descname">get_user_from_ldap</tt><big>(</big><em>uploader</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/kata_ldap.html#get_user_from_ldap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.kata_ldap.get_user_from_ldap" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to find the eppn from LDAP</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uploader</strong> &#8211; CSC user name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">eppn</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.model">
<span id="ckanext-kata-model-module"></span><h2>ckanext.kata.model module<a class="headerlink" href="#module-ckanext.kata.model" title="Permalink to this headline">¶</a></h2>
<p>Database model additions for Kata</p>
<dl class="class">
<dt id="ckanext.kata.model.KataAccessRequest">
<em class="property">class </em><tt class="descclassname">ckanext.kata.model.</tt><tt class="descname">KataAccessRequest</tt><big>(</big><em>follower_id</em>, <em>object_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#KataAccessRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.model.domain_object.DomainObject</span></tt></p>
<p>Class for access requests.</p>
<dl class="attribute">
<dt id="ckanext.kata.model.KataAccessRequest.created">
<tt class="descname">created</tt><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.model.KataAccessRequest.get">
<em class="property">classmethod </em><tt class="descname">get</tt><big>(</big><em>follower_id</em>, <em>object_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#KataAccessRequest.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <cite>UserFollowingDataset</cite> object for the given <cite>follower_id</cite> and
<cite>object_id</cite>, or None if no such follower exists.</p>
</dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.KataAccessRequest.id">
<tt class="descname">id</tt><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.model.KataAccessRequest.is_requesting">
<em class="property">classmethod </em><tt class="descname">is_requesting</tt><big>(</big><em>follower_id</em>, <em>object_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#KataAccessRequest.is_requesting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.is_requesting" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <cite>True</cite> if <cite>follower_id</cite> is currently following <cite>object_id</cite>, <cite>False</cite>
otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.KataAccessRequest.pkg_id">
<tt class="descname">pkg_id</tt><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.pkg_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.KataAccessRequest.user_id">
<tt class="descname">user_id</tt><a class="headerlink" href="#ckanext.kata.model.KataAccessRequest.user_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ckanext.kata.model.UserExtra">
<em class="property">class </em><tt class="descclassname">ckanext.kata.model.</tt><tt class="descname">UserExtra</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#UserExtra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.UserExtra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">vdm.sqlalchemy.base.RevisionedObjectMixin</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">vdm.sqlalchemy.base.StatefulObjectMixin</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.model.domain_object.DomainObject</span></tt></p>
<p>Class for extra user profile info.</p>
<dl class="classmethod">
<dt id="ckanext.kata.model.UserExtra.by_userid">
<em class="property">classmethod </em><tt class="descname">by_userid</tt><big>(</big><em>userid</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#UserExtra.by_userid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.UserExtra.by_userid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all user extra records belonging to User &#8216;userid&#8217;.</p>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.model.UserExtra.by_userid_key">
<em class="property">classmethod </em><tt class="descname">by_userid_key</tt><big>(</big><em>userid</em>, <em>key</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#UserExtra.by_userid_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.UserExtra.by_userid_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all user extra records belonging to User <cite>userid</cite> with <cite>key=key</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.model.UserExtra.get_user">
<tt class="descname">get_user</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#UserExtra.get_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.UserExtra.get_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.id">
<tt class="descname">id</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.key">
<tt class="descname">key</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.state">
<tt class="descname">state</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.user">
<tt class="descname">user</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.user_id">
<tt class="descname">user_id</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.user_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ckanext.kata.model.UserExtra.value">
<tt class="descname">value</tt><a class="headerlink" href="#ckanext.kata.model.UserExtra.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ckanext.kata.model.delete_tables">
<tt class="descclassname">ckanext.kata.model.</tt><tt class="descname">delete_tables</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#delete_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.delete_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete data from some extra tables to prevent IntegrityError between tests.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.model.setup">
<tt class="descclassname">ckanext.kata.model.</tt><tt class="descname">setup</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/model.html#setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.model.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the tables that are specified in this file</p>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.plugin">
<span id="ckanext-kata-plugin-module"></span><h2>ckanext.kata.plugin module<a class="headerlink" href="#module-ckanext.kata.plugin" title="Permalink to this headline">¶</a></h2>
<p>Main plugin file for Kata CKAN extension. Compatible with CKAN 2.1 and 2.2.</p>
<dl class="class">
<dt id="ckanext.kata.plugin.KataPlugin">
<em class="property">class </em><tt class="descclassname">ckanext.kata.plugin.</tt><tt class="descname">KataPlugin</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.core.SingletonPlugin</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.lib.plugins.DefaultDatasetForm</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IDatasetForm</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IConfigurer</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IAuthFunctions</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IActions</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IFacets</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.ITemplateHelpers</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IRoutes</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IConfigurable</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">ckan.plugins.interfaces.IPackageController</span></tt></p>
<p>Kata functionality and UI plugin.</p>
<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.before_index">
<tt class="descname">before_index</tt><big>(</big><em>pkg_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.before_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.before_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Modification to package dictionary before
indexing it to Solr index. For example, we
add resource mimetype to the index, modify
agents and hide the email address</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_dict</strong> &#8211; pkg_dict to modify</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified package dict to be indexed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.before_map">
<tt class="descname">before_map</tt><big>(</big><em>map</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.before_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.before_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Override IRoutes.before_map()</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.before_search">
<tt class="descname">before_search</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.before_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.before_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Things to do before querying Solr. Basically used by
the advanced search feature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; data_dict to modify</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.comments_template">
<tt class="descname">comments_template</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.comments_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.comments_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the package comments page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.configure">
<tt class="descname">configure</tt><big>(</big><em>config</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass configuration to plugins and extensions.
Called by load_environment.</p>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.create_package_schema">
<em class="property">classmethod </em><tt class="descname">create_package_schema</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.create_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the schema for validating new dataset dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.create_package_schema_ddi">
<em class="property">classmethod </em><tt class="descname">create_package_schema_ddi</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.create_package_schema_ddi" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with ddi reader.
Some fields in ddi import are allowed to be  missing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.create_package_schema_oai_dc">
<em class="property">classmethod </em><tt class="descname">create_package_schema_oai_dc</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.create_package_schema_oai_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with oai_dc reader.
Some fields are missing, as the dublin core format
doesn&#8217;t provide so many options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.create_package_schema_oai_dc_ida">
<em class="property">classmethod </em><tt class="descname">create_package_schema_oai_dc_ida</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.create_package_schema_oai_dc_ida" title="Permalink to this definition">¶</a></dt>
<dd><p>Mofidified schema for oai_dc using IDA. See <cite>create_package_schema_oai_dc</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.dataset_facets">
<tt class="descname">dataset_facets</tt><big>(</big><em>facets_dict</em>, <em>package_type</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.dataset_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.dataset_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dictionary mapping facet names to facet titles.
The dict supplied is actually an ordered dict.</p>
<p>Example: <tt class="docutils literal"><span class="pre">{'facet_name':</span> <span class="pre">'The</span> <span class="pre">title</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">facet'}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>facets_dict</strong> &#8211; the facets dictionary</li>
<li><strong>package_type</strong> &#8211; eg. <cite>dataset</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the modified facets_dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.extract_search_params">
<tt class="descname">extract_search_params</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.extract_search_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.extract_search_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts parameters beginning with <tt class="docutils literal"><span class="pre">ext_</span></tt> from <cite>data_dict[&#8216;extras&#8217;]</cite>
for advanced search.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; contains all parameters from search.html</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">unordered lists extra_terms and extra_ops, dict extra_dates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.get_actions">
<tt class="descname">get_actions</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.get_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.get_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Register actions.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.get_auth_functions">
<tt class="descname">get_auth_functions</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.get_auth_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.get_auth_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict of all the authorization functions which the
implementation overrides</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.get_dict_field_errors">
<tt class="descname">get_dict_field_errors</tt><big>(</big><em>errors</em>, <em>field</em>, <em>index</em>, <em>name</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.get_dict_field_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.get_dict_field_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get errors correctly for fields that are represented as nested dict fields in data_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>errors</strong> &#8211; errors dictionary</li>
<li><strong>field</strong> &#8211; field name</li>
<li><strong>index</strong> &#8211; index</li>
<li><strong>name</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>[u&#8217;error1&#8217;, u&#8217;error2&#8217;]</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.get_helpers">
<tt class="descname">get_helpers</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.get_helpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.get_helpers" title="Permalink to this definition">¶</a></dt>
<dd><p>Register helpers</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.has_agents_field">
<tt class="descname">has_agents_field</tt><big>(</big><em>data_dict</em>, <em>field</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.has_agents_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.has_agents_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if some of the data dict&#8217;s agents has attribute given in field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.has_contacts_field">
<tt class="descname">has_contacts_field</tt><big>(</big><em>data_dict</em>, <em>field</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.has_contacts_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.has_contacts_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if some of the data dict&#8217;s contacts has attribute given in field&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.history_template">
<tt class="descname">history_template</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.history_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.history_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the package history page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.is_custom_form">
<tt class="descname">is_custom_form</tt><big>(</big><em>_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.is_custom_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.is_custom_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Template helper, used to identify ckan custom form</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.is_fallback">
<tt class="descname">is_fallback</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.is_fallback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.is_fallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides <tt class="docutils literal"><span class="pre">IDatasetForm.is_fallback()</span></tt>
From CKAN documentation:  &#8220;Returns true iff this provides the fallback behaviour,
when no other plugin instance matches a package&#8217;s type.&#8221;</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.kata_sorted_extras">
<tt class="descname">kata_sorted_extras</tt><big>(</big><em>list_</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.kata_sorted_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.kata_sorted_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for outputting package extras, skips <cite>package_hide_extras</cite></p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.new_template">
<tt class="descname">new_template</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.new_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.new_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the add dataset page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.organization_facets">
<tt class="descname">organization_facets</tt><big>(</big><em>facets_dict</em>, <em>organization_type</em>, <em>package_type</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.organization_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.organization_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>See <tt class="xref py py-meth docutils literal"><span class="pre">ckan.plugins.IFacets.organization_facets()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.package_form">
<tt class="descname">package_form</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.package_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.package_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the main package page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.package_types">
<tt class="descname">package_types</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.package_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.package_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterable of package types that this plugin handles.</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.parse_search_dates">
<tt class="descname">parse_search_dates</tt><big>(</big><em>data_dict</em>, <em>extra_dates</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.parse_search_dates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.parse_search_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse extra date into query q into data_dict:
<cite>data_dict[&#8216;q&#8217;]: ((author:*onstabl*) OR (title:*edliest jok* AND
tags:*somekeyword*) OR (title:sometitle NOT tags:*otherkeyword*)) AND
metadata_modified:[1900-01-01T00:00:00.000Z TO 2000-12-31T23:59:59.999Z]</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_dict</strong> &#8211; full data_dict from package:search</li>
<li><strong>extra_dates</strong> &#8211; <tt class="docutils literal"><span class="pre">{'start':</span> <span class="pre">1991,</span>
<span class="pre">'end':</span> <span class="pre">1994,</span>
<span class="pre">'field':</span> <span class="pre">'metadata_modified'}</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.parse_search_terms">
<tt class="descname">parse_search_terms</tt><big>(</big><em>data_dict</em>, <em>extra_terms</em>, <em>extra_ops</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.parse_search_terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.parse_search_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse extra terms and operators into query q into data_dict:
<cite>data_dict[&#8216;q&#8217;]: ((author:*onstabl*) OR (title:*edliest jok* AND
tags:*somekeyword*) OR (title:sometitle NOT tags:*otherkeyword*))</cite>
Note that all ANDs and NOTs are enclosed in parenthesis by ORs.
Outer parenthesis are for date limits to work correctly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_dict</strong> &#8211; full data_dict from package:search</li>
<li><strong>extra_terms</strong> &#8211; <cite>[(ext_organization-2, u&#8217;someOrg&#8217;), ...]</cite></li>
<li><strong>extra_ops</strong> &#8211; <cite>[(ext_operator-2, u&#8217;AND&#8217;), ...]</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.read_template">
<tt class="descname">read_template</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.read_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.read_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the package read page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.reference_update">
<tt class="descname">reference_update</tt><big>(</big><em>ref</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.reference_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.reference_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.search_template">
<tt class="descname">search_template</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.search_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.search_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return location of the package search page</p>
</dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.setup_template_variables">
<tt class="descname">setup_template_variables</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.setup_template_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.setup_template_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <tt class="docutils literal"><span class="pre">DefaultDatasetForm.setup_template_variables()</span></tt> form  method from <tt class="file docutils literal"><span class="pre">ckan.lib.plugins.py</span></tt>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.show_package_schema">
<em class="property">classmethod </em><tt class="descname">show_package_schema</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.show_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>The data fields that are returned from CKAN for each dataset can be changed with this method.
This method is called when viewing or editing a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.tags_schema">
<em class="property">classmethod </em><tt class="descname">tags_schema</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.tags_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ckanext.kata.plugin.KataPlugin.update_config">
<tt class="descname">update_config</tt><big>(</big><em>config</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/plugin.html#KataPlugin.update_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.update_config" title="Permalink to this definition">¶</a></dt>
<dd><p>This IConfigurer implementation causes CKAN to look in the
<cite>templates</cite> directory when looking for the <cite>package_form()</cite></p>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.update_package_schema">
<em class="property">classmethod </em><tt class="descname">update_package_schema</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.update_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the schema for validating updated dataset dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.update_package_schema_oai_dc">
<em class="property">classmethod </em><tt class="descname">update_package_schema_oai_dc</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.update_package_schema_oai_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with oai_dc reader.
Some fields are missing, as the dublin core format
doesn&#8217;t provide so many options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.plugin.KataPlugin.update_package_schema_oai_dc_ida">
<em class="property">classmethod </em><tt class="descname">update_package_schema_oai_dc_ida</tt><big>(</big><big>)</big><a class="headerlink" href="#ckanext.kata.plugin.KataPlugin.update_package_schema_oai_dc_ida" title="Permalink to this definition">¶</a></dt>
<dd><p>Oai_dc reader schema for IDA. See <cite>update_package_schema_oai_dc</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.schemas">
<span id="ckanext-kata-schemas-module"></span><h2>ckanext.kata.schemas module<a class="headerlink" href="#module-ckanext.kata.schemas" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ckanext.kata.schemas.Schemas">
<em class="property">class </em><tt class="descclassname">ckanext.kata.schemas.</tt><tt class="descname">Schemas</tt><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.create_package_schema">
<em class="property">classmethod </em><tt class="descname">create_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.create_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.create_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the schema for validating new dataset dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.create_package_schema_ddi">
<em class="property">classmethod </em><tt class="descname">create_package_schema_ddi</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.create_package_schema_ddi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.create_package_schema_ddi" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with ddi reader.
Some fields in ddi import are allowed to be  missing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.create_package_schema_oai_dc">
<em class="property">classmethod </em><tt class="descname">create_package_schema_oai_dc</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.create_package_schema_oai_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.create_package_schema_oai_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with oai_dc reader.
Some fields are missing, as the dublin core format
doesn&#8217;t provide so many options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.create_package_schema_oai_dc_ida">
<em class="property">classmethod </em><tt class="descname">create_package_schema_oai_dc_ida</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.create_package_schema_oai_dc_ida"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.create_package_schema_oai_dc_ida" title="Permalink to this definition">¶</a></dt>
<dd><p>Mofidified schema for oai_dc using IDA. See <cite>create_package_schema_oai_dc</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.harvest_source_create_package_schema">
<em class="property">classmethod </em><tt class="descname">harvest_source_create_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.harvest_source_create_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.harvest_source_create_package_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.harvest_source_show_package_schema">
<em class="property">classmethod </em><tt class="descname">harvest_source_show_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.harvest_source_show_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.harvest_source_show_package_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.harvest_source_update_package_schema">
<em class="property">classmethod </em><tt class="descname">harvest_source_update_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.harvest_source_update_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.harvest_source_update_package_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.show_package_schema">
<em class="property">classmethod </em><tt class="descname">show_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.show_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.show_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>The data fields that are returned from CKAN for each dataset can be changed with this method.
This method is called when viewing or editing a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.tags_schema">
<em class="property">classmethod </em><tt class="descname">tags_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.tags_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.tags_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.update_package_schema">
<em class="property">classmethod </em><tt class="descname">update_package_schema</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.update_package_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.update_package_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the schema for validating updated dataset dicts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.update_package_schema_oai_dc">
<em class="property">classmethod </em><tt class="descname">update_package_schema_oai_dc</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.update_package_schema_oai_dc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.update_package_schema_oai_dc" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified schema for datasets imported with oai_dc reader.
Some fields are missing, as the dublin core format
doesn&#8217;t provide so many options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">schema</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ckanext.kata.schemas.Schemas.update_package_schema_oai_dc_ida">
<em class="property">classmethod </em><tt class="descname">update_package_schema_oai_dc_ida</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/schemas.html#Schemas.update_package_schema_oai_dc_ida"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.schemas.Schemas.update_package_schema_oai_dc_ida" title="Permalink to this definition">¶</a></dt>
<dd><p>Oai_dc reader schema for IDA. See <cite>update_package_schema_oai_dc</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.settings">
<span id="ckanext-kata-settings-module"></span><h2>ckanext.kata.settings module<a class="headerlink" href="#module-ckanext.kata.settings" title="Permalink to this headline">¶</a></h2>
<p>Settings and constants for Kata CKAN extension</p>
</div>
<div class="section" id="module-ckanext.kata.utils">
<span id="ckanext-kata-utils-module"></span><h2>ckanext.kata.utils module<a class="headerlink" href="#module-ckanext.kata.utils" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for Kata.</p>
<dl class="function">
<dt id="ckanext.kata.utils.pid_to_name">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">pid_to_name</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#pid_to_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.pid_to_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap re.sub to convert a data-PID to package.name</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.dataset_to_resource">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">dataset_to_resource</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#dataset_to_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.dataset_to_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Move some fields from dataset to resources. Used for saving to DB.</p>
<p>Now finds the first &#8216;dataset&#8217; resource and updates it. Not sure how this should be handled with multiple
&#8216;dataset&#8217; resources. Maybe just remove all of them and add new ones as they all are expected to be present
when updating a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; the data dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified data dictionary (resources handled)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.generate_ida_download_url">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">generate_ida_download_url</tt><big>(</big><em>data_pid</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#generate_ida_download_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.generate_ida_download_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an assumed download URL for the data based on the given data PID.</p>
<p>TODO: this should probably be done at the source end, i.e. in IDA itself or harvesters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_pid</strong> &#8211; the PID of the IDA dataset (should be actual data PID, not metadata PID)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a download URL for an IDA dataset</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.generate_pid">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">generate_pid</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#generate_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.generate_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a permanent Kata identifier</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_field_title">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_field_title</tt><big>(</big><em>key</em>, <em>_</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_field_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_field_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Get correctly translated title for one search field</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_</strong> &#8211; gettext translator</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict of titles for fields</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_field_titles">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_field_titles</tt><big>(</big><em>_</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_field_titles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_field_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get correctly translated titles for search fields</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_</strong> &#8211; gettext translator</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict of titles for fields</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_funders">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_funders</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_funders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_funders" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all funders from agent field in data_dict</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_member_role">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_member_role</tt><big>(</big><em>group_id</em>, <em>user_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_member_role"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_member_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user&#8217;s role for this group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_id</strong> &#8211; Group ID</li>
<li><strong>user_id</strong> &#8211; User ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_package_contact_email">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_package_contact_email</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_package_contact_email"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_package_contact_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the email address of the first distributor/publisher contact
for the dataset with the given id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> &#8211; the id of the package whose contact information to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the email address</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str or unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_package_contact_name">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_package_contact_name</tt><big>(</big><em>pkg_id</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_package_contact_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_package_contact_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the first distributor/publisher contact
for the dataset with the given id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_id</strong> &#8211; the id of the package whose contact information to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the name of the contact</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str or unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_package_id_by_access_or_primary_pid">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_package_id_by_access_or_primary_pid</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_package_id_by_access_or_primary_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_package_id_by_access_or_primary_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Try if the provided data PIDs match exactly one dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Package id or None if not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_package_id_by_pid">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_package_id_by_pid</tt><big>(</big><em>pid</em>, <em>pid_type</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_package_id_by_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_package_id_by_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Find pid by id and type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pid</strong> &#8211; id of the pid</li>
<li><strong>pid_type</strong> &#8211; type of the pid</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">id of the package</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_pids_by_type">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_pids_by_type</tt><big>(</big><em>pid_type</em>, <em>data_dict</em>, <em>primary=None</em>, <em>use_package_id=False</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_pids_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_pids_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all of package PIDs of certain type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>use_package_id</strong> &#8211; Set to True to get package.id as primary metadata PID</li>
<li><strong>primary</strong> &#8211; True to get only primary pids, or False to get all pids without primary=&#8217;True&#8217;, use None to get all pids.</li>
<li><strong>pid_type</strong> &#8211; PID type to get (data, metadata, version)</li>
<li><strong>data_dict</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dicts</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.get_primary_pid">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">get_primary_pid</tt><big>(</big><em>pid_type</em>, <em>data_dict</em>, <em>use_package_id=False</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#get_primary_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.get_primary_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the primary PID of the given type for a package.
This is a convenience function that returns the first primary PID
returned by get_pids_by_type.</p>
<p>If no primary PID can be found, this function returns None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pid_type</strong> &#8211; PID type to get (data, metadata, version)</li>
<li><strong>data_dict</strong> &#8211; </li>
<li><strong>use_package_id</strong> &#8211; Set to True to get package.id as primary metadata PID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the primary PID of the given type</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str or unicode</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.hide_sensitive_fields">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">hide_sensitive_fields</tt><big>(</big><em>pkg_dict1</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#hide_sensitive_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.hide_sensitive_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide fields that contain sensitive data. Modifies input dict directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkg_dict1</strong> &#8211; data dictionary from package_show</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified data dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.is_ida_pid">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">is_ida_pid</tt><big>(</big><em>pid</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#is_ida_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.is_ida_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the given string seems to be a PID from the IDA namespace.
:param pid:
:return:
:rtype: bool</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.label_list_yso">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">label_list_yso</tt><big>(</big><em>tag_url</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#label_list_yso"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.label_list_yso" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes tag keyword URL and fetches the labels that link to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the labels</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.resource_to_dataset">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">resource_to_dataset</tt><big>(</big><em>data_dict</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#resource_to_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.resource_to_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Move some fields from resources to dataset. Used for viewing a dataset.</p>
<p>We need field conversions to make sure the whole &#8216;resources&#8217; key in datadict doesn&#8217;t get overwritten when
modifying the dataset in WUI. That would drop all manually added resources if resources was already present.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dict</strong> &#8211; the data dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified data dictionary (resources handled)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.utils.send_email">
<tt class="descclassname">ckanext.kata.utils.</tt><tt class="descname">send_email</tt><big>(</big><em>req</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/utils.html#send_email"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.utils.send_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Send access request email.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user_id</strong> &#8211; user who requests access</li>
<li><strong>pkg_id</strong> &#8211; dataset&#8217;s id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.validators">
<span id="ckanext-kata-validators-module"></span><h2>ckanext.kata.validators module<a class="headerlink" href="#module-ckanext.kata.validators" title="Permalink to this headline">¶</a></h2>
<p>Validators for user inputs.</p>
<dl class="function">
<dt id="ckanext.kata.validators.check_access_request_url">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_access_request_url</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_access_request_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_access_request_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate dataset&#8217;s access request URL.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_agent">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_agent</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that compulsory agents exist.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_agent_fields">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_agent_fields</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_agent_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_agent_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that compulsory fields for this agent exists.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_contact">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_contact</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_contact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_contact" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that compulsory contacts exist.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_direct_download_url">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_direct_download_url</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_direct_download_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_direct_download_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate dataset&#8217;s direct download URL.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_events">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_events</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates that none of the event&#8217;s data is empty
If there is only type, removes it</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_junk">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_junk</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_junk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_junk" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the existence of ambiguous parameters</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_langtitle">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_langtitle</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_langtitle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_langtitle" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that langtitle field exists</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_pids">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_pids</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_pids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_pids" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that compulsory PIDs exist. Also check that primary data PID is not modified in any way.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_private">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_private</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_private"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_private" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes to owner_org_validator requires checking of private value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nothing. Raise invalid if not organisation editor and private == False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.check_through_provider_url">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">check_through_provider_url</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#check_through_provider_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.check_through_provider_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate dataset&#8217;s <cite>through_provider_URL</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.contains_alphanumeric">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">contains_alphanumeric</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#contains_alphanumeric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.contains_alphanumeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the field contains some characters, so that eg.
empty space isn&#8217;t a valid input</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.ignore_empty_data">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">ignore_empty_data</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#ignore_empty_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.ignore_empty_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Ignore empty data, example &#8216;-&#8216; or whitespace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ckan.lib.navl.dictization_functions.StopOnError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if <tt class="docutils literal"><span class="pre">data[key]</span></tt>
is <tt class="xref py py-data docutils literal"><span class="pre">ckan.lib.navl.dictization_functions.missing</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">None</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.kata_owner_org_validator">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">kata_owner_org_validator</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#kata_owner_org_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.kata_owner_org_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified version of CKAN&#8217;s owner_org_validator. Anyone
can add a private dataset to an organisation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; key</li>
<li><strong>data</strong> &#8211; data</li>
<li><strong>errors</strong> &#8211; errors</li>
<li><strong>context</strong> &#8211; context</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nothing. Raise invalid if organisation is not given or it doesn&#8217;t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.kata_tag_name_validator">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">kata_tag_name_validator</tt><big>(</big><em>value</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#kata_tag_name_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.kata_tag_name_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks an individual tag for unaccepted characters</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.kata_tag_string_convert">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">kata_tag_string_convert</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#kata_tag_string_convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.kata_tag_string_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of tags that is a comma-separated string (in data[key])
and parses tag names. These are added to the data dict, enumerated. They
are also validated.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.package_name_not_changed">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">package_name_not_changed</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#package_name_not_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.package_name_not_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that package name doesn&#8217;t change</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.url_not_empty">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">url_not_empty</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#url_not_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.url_not_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the data value is non-empty and contains both a URL scheme and a hostname.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ckan.lib.navl.dictization_functions.Invalid:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if data[key] is empty, missing, or
omits either URL scheme or hostname</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_access_application_download_url">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_access_application_download_url</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_access_application_download_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_access_application_download_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the access_application_download_URL field of a dataset.
The field is used for expressing the URL at which the actual data
can be downloaded after entitlement through the access application
server has been given.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_access_application_url">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_access_application_url</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_access_application_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_access_application_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate dataset&#8217;s <cite>access_application_URL</cite>.</p>
<p>Dummy value _must_ be added for a new form so that it can be overwritten
in the same session in iPackageController <cite>edit</cite> hook. For REMS.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_algorithm">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_algorithm</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_algorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Matching to hash functions according to list in
<a class="reference external" href="http://en.wikipedia.org/wiki/List_of_hash_functions">http://en.wikipedia.org/wiki/List_of_hash_functions</a></p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_discipline">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_discipline</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_discipline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_discipline" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate discipline</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; &#8216;discipline&#8217;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_email">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_email</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_email"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate an email address against a regular expression.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_general">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_general</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_general"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_general" title="Permalink to this definition">¶</a></dt>
<dd><p>General input validator.
Validate arbitrary data for characters specified by <cite>GEN_REGEX</cite></p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_kata_date">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_kata_date</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_kata_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_kata_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a date string. Empty strings also pass.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_kata_date_relaxed">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_kata_date_relaxed</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_kata_date_relaxed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_kata_date_relaxed" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a event date string. Empty strings also pass.
<cite>2001-03-01</cite>,
<cite>2001-03</cite> and
<cite>2001</cite> pass.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_mimetype">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_mimetype</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_mimetype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_mimetype" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate mimetype, match to characters in
<a class="reference external" href="http://www.freeformatter.com/mime-types-list.html#mime-types-list">http://www.freeformatter.com/mime-types-list.html#mime-types-list</a>
Also: <a class="reference external" href="http://www.iana.org/assignments/media-types">http://www.iana.org/assignments/media-types</a></p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_phonenum">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_phonenum</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_phonenum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_phonenum" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a phone number against a regular expression.</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_spatial">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_spatial</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_spatial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_spatial" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate spatial (aka geographical) coverage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; eg. &#8216;geographical_coverage&#8217;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_title">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_title</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the existence of first title</p>
</dd></dl>

<dl class="function">
<dt id="ckanext.kata.validators.validate_title_duplicates">
<tt class="descclassname">ckanext.kata.validators.</tt><tt class="descname">validate_title_duplicates</tt><big>(</big><em>key</em>, <em>data</em>, <em>errors</em>, <em>context</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/validators.html#validate_title_duplicates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.validators.validate_title_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that there is only one title per language</p>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata.vocab">
<span id="ckanext-kata-vocab-module"></span><h2>ckanext.kata.vocab module<a class="headerlink" href="#module-ckanext.kata.vocab" title="Permalink to this headline">¶</a></h2>
<p>RDF Namespace definitions and some related functions.</p>
<dl class="function">
<dt id="ckanext.kata.vocab.Graph">
<tt class="descclassname">ckanext.kata.vocab.</tt><tt class="descname">Graph</tt><big>(</big><em>*a</em>, <em>**kw</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/vocab.html#Graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.vocab.Graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ckanext.kata.vocab.bind_ns">
<tt class="descclassname">ckanext.kata.vocab.</tt><tt class="descname">bind_ns</tt><big>(</big><em>graph</em><big>)</big><a class="reference internal" href="_modules/ckanext/kata/vocab.html#bind_ns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ckanext.kata.vocab.bind_ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an <tt class="xref py py-class docutils literal"><span class="pre">Graph</span></tt>, bind the namespaces present in
the dictionary in this module to it for more readable serialisations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>g</strong> &#8211; an instance of <tt class="xref py py-class docutils literal"><span class="pre">rdflib.graph.Graph</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckanext.kata">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ckanext.kata" title="Permalink to this headline">¶</a></h2>
<p>Kata extension for CKAN.</p>
<p>Provides modified Add Dataset (package) page and other modifications. This extension contains also jQuery files, 
custom css (eg. kata.css) and several templates are overwritten from basic CKAN to provide the Kata/TTA looks.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="simple">
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/ckanext.kata.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2014, CSC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>